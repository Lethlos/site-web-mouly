https://www.codexworld.com/compress-image-before-upload-using-php/

CREATE TABLE `images` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `image` longblob NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

POUR ACTIVER LA COMPRESSION D'IMAGE :
aller dans php.ini, changer :
;extension=gd
->
extension=gd

/********************************************************/
EXISTANT
/********************************************************/
https://www.facebook.com/gitefiguies
https://www.tourisme-conques.fr/fr/preparer-mon-sejour/hebergement/f_figuies-3941

/********************************************************/
DIRECTIVE
/********************************************************/

Il faut que le site soit responsive par le biais de la technologie Flex.
Mots clé pour référencement.
Adresse du gite.
Carte géolocalisation, bien choisir l'API pour les dépendences (pas prioritaire).
Pas de framework.
Css réalisé.
Ajax réalisé.
Php réalisé.
Pas de Jquery.
Propreté du code et découpage.
Interaction BDD en Ajax/php
Bdd mySQL.
Carroussel photo JS fabriqué par toi.
Menu qui mène sur des ancres de page ou des pages.
(Calendrier pour a visu des disponibilité, administré donc par l'administrateur, Utiliser CMS)
Page administration avec login, texte présentation, tarifs(, gestion calendrier), gestion des photos, contact.
Optimisation des photos à l'upload. Test greenIT (pluggin chrome).

/********************************************************/
AJOUTS
/********************************************************/
V0.2
Un calendrier sera géré par l'administrateur afin de présentr aux visiteurs les disponibilités du gite.

https://prod.liveshare.vsengsaas.visualstudio.com/join?64649FFC8EE4C7579312A2A7D680672CCBA7

Passer du HTTP\1 au HTTP\2 :

Installer OpenSSL sur le PC
Ajouter le PATH dans les variables d'environnement système "C:\Program Files\OpenSSL-Win64\bin"
Activer le HTTP\2 dans les modules d'Apache (wamp64/bin/apache/apache[version]/conf/httpd.conf) en dé-commentant la ligne "#LoadModule http2_module modules/mod_http2.so
"
Ouvrir le terminal et exécuter la commande "openssl req -new -newkey rsa:2048 -days 365 -nodes -x509 -keyout ma.key -out ma.crt -config "C:/Program Files/OpenSSL-Win64/bin/openssl.cfg" (ne pas oublier de bien se placer dans le dossier racine du site web pour que ce soit plus facile)
Ouvrir le fichier "httpd-vhosts.conf" dans "wamp64/bin/apache/apache[version]/conf/extra/httpd-vhosts.conf"
Ajouter à la suite du contenu du fichier ces 4 lignes en veillant à modifier la ligne "DocumentRoot" en fonction de son emplacement de site web. Pour ma part :
<VirtualHost *:443>
    ServerName localhost
    DocumentRoot "${INSTALL_DIR}/www/musicaveyron"
</VirtualHost>
Sauvegarder, redémarrer le serveur WAMP.

Changer htt1 par http2 :
- Activer le HTTP\2 dans les modules d'Apache (wamp64/bin/apache/apache[version]/conf/httpd.conf) en dé-commentant la ligne "#LoadModule http2_module modules/mod_http2.so
- aller dans le ficheir C:\xampp\apache\conf\extra\httpd-vhosts.conf et ajouter à la fin : 

    # 1. Support for HTTP on http://127.0.0.40/
    <VirtualHost 127.0.0.40:80>
        DocumentRoot "C:/xampp/htdocs/web-mouly"
        DirectoryIndex index.html
      Protocols h2 h2c http/1.1
        <Directory "C:/xampp/htdocs/web-mouly">
            AllowOverride None
            Order Allow,Deny
            Allow from All
        </Directory>
    </VirtualHost>
    # 2. Support for HTTPS on https://127.0.0.40/
    <VirtualHost 127.0.0.40:443>
        DocumentRoot "C:/xampp/htdocs/web-mouly"
      Protocols h2 h2c http/1.1
        ServerName web-mouly
        SSLEngine on
        SSLCertificateFile "conf/ssl.crt/server.crt"
        SSLCertificateKeyFile "conf/ssl.key/server.key"
        <Directory "C:/xampp/htdocs/web-mouly">
            Options All
          AllowOverride All
          Require all granted
        </Directory>
    </VirtualHost>

- Redemarrer le serveur
- Accéder au site par l'url https://127.0.0.40/index.html

https://meet.google.com/tja-jchr-pcm

Changement eco-responsable :

  - Couleur des menus -> Mauvais rendu, on est resté sur la couleur d'origine
  - Ajout de phrase de bienvenue
  - Passage en httpd2 
  - Juste 2 polices
  - Compression des images
  - Compression et resize carroussel
  - Ajout du favicon
  - réorganisation page

  trucs à faire pour le rendu vendredi :  

- faire 3 photos du gite
- regarder les prix en basse saison
- regarder la capacité
- savoir ou est le gite
- vérifier que le gite est bien libre
- faire une demande de réservation

regarder le poid d'utilisateur lambda après utilisation de ces trucs



  a ajouter dans httpd.conf : 

  
# BEGIN Cache-Control Headers
<IfModule mod_headers.c>
<FilesMatch "\\.(ico|jpe?g|png|gif|swf|css|gz)$">
	Header set Cache-Control "max-age=2592000, public"
</FilesMatch>
<FilesMatch "\\.(js)$">
	Header set Cache-Control "max-age=2592000, private"
</FilesMatch>
<filesMatch "\\.(html|htm)$">
	Header set Cache-Control "max-age=7200, public"
</filesMatch>
# Disable caching for scripts and other dynamic files
<FilesMatch "\.(pl|php|cgi|spl|scgi|fcgi)$">
	Header unset Cache-Control
</FilesMatch>
</IfModule>
# END Cache-Control Headers

# BEGIN Expire headers
<IfModule mod_expires.c>
ExpiresActive On
ExpiresDefault "access plus 7200 seconds"
ExpiresByType image/jpg "access plus 2592000 seconds"
ExpiresByType image/jpeg "access plus 2592000 seconds"
ExpiresByType image/png "access plus 2592000 seconds"
ExpiresByType image/gif "access plus 2592000 seconds"
AddType image/svg+xml .svg
AddOutputFilterByType DEFLATE image/svg+xml
ExpiresByType image/svg+xml "access 1 month"
AddType image/x-icon .ico
ExpiresByType image/ico "access plus 2592000 seconds"
ExpiresByType image/icon "access plus 2592000 seconds"
ExpiresByType image/x-icon "access plus 2592000 seconds"
ExpiresByType text/css "access plus 2592000 seconds"
ExpiresByType text/javascript "access plus 2592000 seconds"
ExpiresByType text/html "access plus 7200 seconds"
ExpiresByType application/xhtml+xml "access plus 7200 seconds"
ExpiresByType application/javascript A259200
ExpiresByType application/x-javascript "access plus 2592000 seconds"
ExpiresByType application/x-shockwave-flash "access plus 2592000 seconds"
</IfModule>
